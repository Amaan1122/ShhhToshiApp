<app-header></app-header>

<div class="flex flex-col items-center min-h-screen bg-gray-50 py-8 pt-20">
  <div class="grid grid-cols-2 gap-4 w-full max-w-md mb-6">
    <div
      class="bg-white rounded-2xl shadow border border-gray-200 p-6 flex flex-col items-center"
    >
      <div class="flex items-center gap-2 mb-2">
        <span class="text-lg">ğŸ“Š</span>
        <span class="text-gray-500 text-sm">Total Staked</span>
      </div>
      <div class="text-2xl font-bold">
        {{ walletInfo?.tonBalance | number : "1.2-2" }} TON
      </div>
    </div>
    <div
      class="bg-white rounded-2xl shadow border border-gray-200 p-6 flex flex-col items-center"
    >
      <div class="flex items-center gap-2 mb-2">
        <span class="text-lg">ğŸ“ˆ</span>
        <span class="text-gray-500 text-sm">Total Rewards</span>
      </div>
      <div class="text-2xl font-bold text-green-600">
        {{ totalRewardEarned / 100 }} TON
      </div>
    </div>
  </div>

  <div
    class="bg-white rounded-2xl shadow border border-gray-200 p-8 w-full max-w-md"
  >
    <div class="flex items-center gap-2 mb-4">
      <span class="text-xl">ğŸ—“ï¸</span>
      <span class="font-semibold text-lg">Staking Progress</span>
    </div>
    <div class="text-gray-500 mb-2">
      You've been staking for
      <span class="font-semibold text-black">{{ daysStaked }} days</span>
    </div>
    <div class="flex items-center justify-between mb-2 text-xs text-gray-500">
      <span>Days staked: <span class="font-semibold text-black">{{ daysStaked }}</span></span>
      <span>Target: <span class="font-semibold text-black">{{ targetDays }} days</span></span>
    </div>
    <div class="w-full h-2 bg-gray-200 rounded-full overflow-hidden mb-4">
      <div class="h-2 bg-black rounded-full" [style.width.%]="progressPercent"></div>
    </div>
    <div class="flex justify-between items-center mt-4">
      <div>
        <div class="text-xs text-gray-500">Total Claims</div>
        <div class="text-lg font-bold">{{ totalClaims }}</div>
      </div>
      <div class="text-right">
        <div class="text-xs text-gray-500">Last Claimed</div>
        <div class="text-lg font-bold">
          {{ lastClaimedAt ? (lastClaimedAt | date:'mediumDate') : 'Never' }}
        </div>
      </div>
    </div>
  </div>

  <!-- Transaction History Section -->
  <div class="bg-white rounded-2xl shadow border border-gray-200 p-8 w-full max-w-md mt-8">
    <div class="mb-2">
      <div class="font-semibold text-lg">Transaction History</div>
      <div class="text-gray-500 text-sm">Your recent staking activities</div>
    </div>
    <div *ngFor="let tx of transactionHistory" class="flex items-center gap-3 border-b last:border-b-0 border-gray-100 py-4">
      <div class="flex-shrink-0">
        <span *ngIf="tx.type === 'Reward'" class="text-2xl">ğŸ</span>
        <span *ngIf="tx.type === 'Stake'" class="text-2xl">â†—ï¸</span>
        <span *ngIf="tx.type === 'Unstake'" class="text-2xl">â†˜ï¸</span>
      </div>
      <div class="flex-1">
        <div class="font-medium">{{ tx.type }}</div>
        <div class="text-xs text-gray-400">{{ tx.date | date:'M/d/yyyy' }}</div>
      </div>
      <div class="flex flex-col items-end">
        <div [ngClass]="{
          'text-green-600': tx.amount > 0,
          'text-red-500': tx.amount < 0
        }" class="font-bold text-base">
          {{ tx.amount > 0 ? '+' : '' }}{{ tx.amount | number:'1.2-2' }} TON
        </div>
        <div class="mt-1">
          <span [ngClass]="{
            'bg-black text-white': tx.status === 'completed',
            'bg-orange-100 text-orange-600': tx.status === 'pending'
          }" class="text-xs font-semibold rounded px-2 py-0.5">
            {{ tx.status }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
